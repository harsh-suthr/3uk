Function.prototype.bind || (Function.prototype.bind = function(t) {
        if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        var e = Array.prototype.slice.call(arguments, 1),
            i = this,
            n = function() {},
            o = function() {
                return i.apply(this instanceof n && t ? this : t, e.concat(Array.prototype.slice.call(arguments)))
            };
        return n.prototype = this.prototype, o.prototype = new n, o
    }),
    function(t) {
        "function" == typeof window.define && define.amd ? define(["jquery"], t) : t(jQuery)
    }(function(t) {
        var e = function(e) {
            var i = this;
            this.$el = t(e), this.anim = .75, this.quickAnim = .325, this.$el.each(function(t, e) {
                i.enableControls(e), i.setPositions(e), i.setTabs(e)
            })
        };
        return e.prototype.setPositions = function(e) {
            var i, n = t(e).find("article[role=tabpanel]"),
                o = n.filter("[aria-selected=true]"),
                r = t(e).find("ul[role=tablist] > li[role=presentation]"),
                a = t(e).find(".indicator"),
                s = n.index(o);
            for (i = 0; s >= i; i++) t(n[s - i]).css("left", 100 * -i + "%");
            for (i = 0; i <= n.length - s; i++) t(n[s + i]).css("left", 100 * i + "%");
            s === n.length - 1 ? n.first().css("left", "100%") : 0 === s && n.last().css("left", "-100%"), a.css("left", 100 / r.length * s + "%"), r.removeClass("selected").attr("aria-selected", !1).eq(s).addClass("selected").attr("aria-selected", !0)
        }, e.prototype.setTabs = function(e) {
            var i = this,
                n = t(e).find("ul[role=tablist] > li[role=presentation]");
            return n.css("width", 100 / n.length + "%"), t(e).find("ul[role=tablist]").prepend('<li class="indicator"><div><div></div></div></li>'), this.resizeIndicator(e), t(window).on("resize", function() {
                i.resizeIndicator(e)
            }), n
        }, e.prototype.resizeIndicator = function(e) {
            var i = t(e).find("ul[role=tablist] > li[role=presentation]");
            t(e).find(".indicator").css("width", i.css("width"))
        }, e.prototype.move = function(e, i, n) {
            console.log("Moving: " + i), console.log("Loop: " + n);
            var o = t(e).hasClass("aria-carousel") ? t(e) : t(e.target).parents(".aria-carousel"),
                r = o.find("article[role=tabpanel]");
            n = "undefined" == typeof n ? -1 : n;
            var a, s = r.filter("[aria-selected=true]");
            i > 0 ? a = s.next().length >= 1 ? s.next() : r.first() : 0 > i && (a = s.prev().length >= 1 ? s.prev() : r.last());
            var l;
            return l = 0 === n ? n : 0 > i ? i + 1 : i - 1, this.animate([s, a], l), s.attr("aria-selected", !1), a.attr("aria-selected", !0), this.setPositions(o), r
        }, e.prototype.enableControls = function(e) {
            var i = this;
            return t(e).find("button.next").click(function(t) {
                this.move(t, 1)
            }.bind(this)), t(e).find("button.prev").click(function(t) {
                this.move(t, -1)
            }.bind(this)), "function" == typeof t.fn.hammer && t(e).find("> div").hammer().bind("swipeleft swiperight", function(t) {
                switch (t.type) {
                    case "swipeleft":
                        i.move(t, 1);
                        break;
                    case "swiperight":
                        i.move(t, -1)
                }
            }), t(e).find("a[role=tab]").each(function(n, o) {
                t(o).click(function(o) {
                    var r = t(e).find("article[role=tabpanel]"),
                        a = r.index(r.filter("[aria-selected=true]"));
                    console.log("Index: " + n + " / Current Index: " + a), i.move(o, n - a)
                }), t(o).keydown(function(e) {
                    var i = t(e.target);
                    (13 === e.keyCode || 32 === e.keyCode) && (e.preventDefault(), i.trigger("click"))
                })
            }), t(e).keydown(function(t) {
                switch (t.keyCode) {
                    case 37:
                        t.preventDefault(), i.move(e, -1);
                        break;
                    case 39:
                        t.preventDefault(), i.move(e, 1)
                }
            }), i
        }, e.prototype.animate = function(e, i) {
            var n = this,
                o = 0 === i ? this.anim : this.quickAnim,
                r = 0 === i ? "cubic-bezier(0.445, 0.05, 0.55, 0.95)" : "linear";
            t(e).each(function(t, e) {
                e.css("transition", "left " + o + "s " + r).on("transitionend", function(t) {
                    e.css("transition", ""), e.unbind("transitionend"), "true" === e.attr("aria-selected") && 0 !== i && (0 > i ? n.move(t, i, i + 1) : n.move(t, i, i - 1))
                })
            })
        }, new e(".aria-carousel")
    });